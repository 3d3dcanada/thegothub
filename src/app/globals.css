@import 'tailwindcss';

@theme {
  --color-border: hsl(var(--border));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));

  --radius-lg: var(--radius);
  --radius-md: calc(var(--radius) - 2px);
  --radius-sm: calc(var(--radius) - 4px);

  --font-sans: var(--font-inter), system-ui, sans-serif;
  --font-mono: var(--font-jetbrains), monospace;

  --animate-fade-in: fade-in 0.3s ease-out forwards;
  --animate-slide-in: slide-in 0.3s ease-out forwards;
  --animate-slide-in-from-right: slide-in_from_right 0.3s ease-out;
  --animate-slide-out-to-right: slide_out_to_right 0.3s ease-out;

  @keyframes fade-in {
    0% {
      opacity: 0;
      transform: translateY(10px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  @keyframes slide-in {
    0% {
      opacity: 0;
      transform: translateX(-10px);
    }
    100% {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slide-in_from_right {
    0% {
      transform: translateX(100%);
    }
    100% {
      transform: translateX(0);
    }
  }

  @keyframes slide_out_to_right {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(100%);
    }
  }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@layer base {
  :root {
    /* Light mode - subtle warm gray backgrounds */
    --background: 0 0% 98%;
    --foreground: 0 0% 10%;
    
    --card: 0 0% 100%;
    --card-foreground: 0 0% 10%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 10%;
    
    /* Indigo accent */
    --primary: 239 84% 67%;
    --primary-foreground: 0 0% 100%;
    
    --secondary: 0 0% 94%;
    --secondary-foreground: 0 0% 10%;
    
    --muted: 0 0% 94%;
    --muted-foreground: 0 0% 45%;
    
    --accent: 0 0% 94%;
    --accent-foreground: 0 0% 10%;
    
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    --border: 0 0% 85%;
    --input: 0 0% 85%;
    --ring: 239 84% 67%;
    
    --radius: 12px;
  }

  .dark {
    /* Dark mode - rich black with subtle warmth */
    --background: 0 0% 4%;
    --foreground: 0 0% 98%;
    
    --card: 0 0% 9%;
    --card-foreground: 0 0% 98%;
    
    --popover: 0 0% 9%;
    --popover-foreground: 0 0% 98%;
    
    /* Lighter indigo for dark mode */
    --primary: 239 84% 77%;
    --primary-foreground: 0 0% 4%;
    
    --secondary: 0 0% 15%;
    --secondary-foreground: 0 0% 98%;
    
    --muted: 0 0% 15%;
    --muted-foreground: 0 0% 64%;
    
    --accent: 0 0% 15%;
    --accent-foreground: 0 0% 98%;
    
    --destructive: 0 62% 50%;
    --destructive-foreground: 0 0% 98%;
    
    --border: 0 0% 18%;
    --input: 0 0% 18%;
    --ring: 239 84% 77%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-muted-foreground/20 rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/30;
  }
}

/* GitHub-style markdown rendering */
.markdown-body {
  @apply text-foreground;
  font-size: 14px;
  line-height: 1.7;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  @apply font-semibold mt-6 mb-4;
}

.markdown-body h1 { font-size: 2em; border-bottom: 1px solid var(--border); padding-bottom: 0.3em; }
.markdown-body h2 { font-size: 1.5em; border-bottom: 1px solid var(--border); padding-bottom: 0.3em; }
.markdown-body h3 { font-size: 1.25em; }
.markdown-body h4 { font-size: 1em; }
.markdown-body h5 { font-size: 0.875em; }
.markdown-body h6 { font-size: 0.85em; @apply text-muted-foreground; }

.markdown-body p {
  @apply mb-4;
}

.markdown-body a {
  @apply text-primary hover:underline;
}

.markdown-body code {
  @apply px-1.5 py-0.5 rounded bg-muted font-mono text-sm;
}

.markdown-body pre {
  @apply p-4 rounded-lg bg-muted overflow-x-auto mb-4;
}

.markdown-body pre code {
  @apply p-0 bg-transparent;
}

.markdown-body blockquote {
  @apply pl-4 border-l-4 border-muted-foreground/30 italic text-muted-foreground mb-4;
}

.markdown-body ul,
.markdown-body ol {
  @apply pl-6 mb-4;
}

.markdown-body li {
  @apply mb-1;
}

.markdown-body ul {
  @apply list-disc;
}

.markdown-body ol {
  @apply list-decimal;
}

.markdown-body img {
  @apply max-w-full rounded-lg my-4;
}

.markdown-body table {
  @apply w-full border-collapse mb-4;
}

.markdown-body th,
.markdown-body td {
  @apply border border-border px-3 py-2;
}

.markdown-body th {
  @apply bg-muted font-semibold;
}

.markdown-body hr {
  @apply border-t border-border my-6;
}

/* Syntax highlighting base */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
  @apply text-muted-foreground;
}

.token.punctuation {
  @apply text-foreground;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
  @apply text-red-500;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
  @apply text-emerald-500;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
  @apply text-amber-500;
}

.token.atrule,
.token.attr-value,
.token.keyword {
  @apply text-indigo-500;
}

.token.function,
.token.class-name {
  @apply text-blue-500;
}

.token.regex,
.token.important,
.token.variable {
  @apply text-amber-600;
}

.dark .token.comment,
.dark .token.prolog,
.dark .token.doctype,
.dark .token.cdata {
  @apply text-muted-foreground/70;
}

.dark .token.punctuation {
  @apply text-gray-300;
}

.dark .token.property,
.dark .token.tag,
.dark .token.boolean,
.dark .token.number,
.dark .token.constant,
.dark .token.symbol,
.dark .token.deleted {
  @apply text-red-400;
}

.dark .token.selector,
.dark .token.attr-name,
.dark .token.string,
.dark .token.char,
.dark .token.builtin,
.dark .token.inserted {
  @apply text-emerald-400;
}

.dark .token.operator,
.dark .token.entity,
.dark .token.url,
.dark .language-css .token.string,
.dark .style .token.string {
  @apply text-amber-400;
}

.dark .token.atrule,
.dark .token.attr-value,
.dark .token.keyword {
  @apply text-indigo-400;
}

.dark .token.function,
.dark .token.class-name {
  @apply text-blue-400;
}

.dark .token.regex,
.dark .token.important,
.dark .token.variable {
  @apply text-amber-400;
}
